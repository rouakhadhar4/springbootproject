<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Navbar et Footer</title>
  <style>
    /* Reset de la marge et du padding */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    .footer-content {
            background-color: #D8BFD8;
            color: white;
            text-align: center;
            padding: 10px 0;
            position: fixed;
            bottom: 0;
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
            box-sizing: border-box;
        }
        .footer-content .left,
        .footer-content .center,
        .footer-content .right {
            flex: 1;
        }
        .footer-content .center {
            text-align: center;
        }
        .footer-content .right {
            text-align: right;
        }

    /* Styles pour la navbar */
    .navbar {
      background-color: #D8BFD8;;
      padding: 20px 0;
      position: fixed;
      width: 100%;
      top: 0;
      left: 0;
    }

    .navbar ul {
      list-style-type: none;
      text-align: center;
    }

    .navbar ul li {
      display: inline;
    }

    .navbar ul li a {
      color: #fff;
      text-decoration: none;
      padding: 10px 20px;
    }

    .navbar ul li a:hover {
      background-color: #555;
    }

    /* Styles pour le contenu principal */
    .content {
      padding: 20px;
      padding-bottom: 100px; /* Ajouté pour garantir que le contenu ne soit pas caché par le footer */
      padding-top: 60px; /* Ajouté pour éviter que le contenu ne soit caché par la navbar */
    }

    /* Styles pour le pied de page */
    .footer-content {
      text-align: center;
      padding: 20px;
      background-color: #D8BFD8; /* Changement de couleur en noir */
      color: white;
      position: fixed;
      width: 100%;
      bottom: 0;
      left: 0;
    }
    .content {
      padding: 20px;
      padding-bottom: 100px; /* Ajouté pour garantir que le contenu ne soit pas caché par le footer */
      padding-top: 60px; /* Ajouté pour éviter que le contenu ne soit caché par la navbar */
    }

    
      body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
            font-family: Arial, sans-serif;
        }
        .content {
           background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            max-width: 400px; /* Adjust this value to make the card wider or narrower */
            width: 100%;
        }
        form {
            display: flex;
            flex-direction: column;
        }
        label, input, textarea, button {
            margin-bottom: 10px;
        }
        label {
            font-weight: bold;
        }
        input, textarea {
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            width: 100%;
        }
        button {
            padding: 10px;
            background-color:#D8BFD8;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
  </style>
</head>
<body>

   <nav class="navbar">
        <ul>
            <li><a href="http://localhost:8041/userhome">Home</a></li>
            <li><a href="http://localhost:8041/appointments/new">Appointment</a></li>
            <li><a href="http://localhost:8041/formulaire/ajouter">Avis</a></li>
          
        </ul>
    </nav>
  <div class="content">
    <div class="text">
     <div class="content">
 
    <h2>Add Appointment</h2>
    <form id="appointmentForm" action="/appointments/add" method="post" th:object="${appointment}">
        <label for="nom">Name:</label><br>
        <input type="text" id="nom" name="nom" th:field="*{nom}" required><br>
        <label for="date">Date:</label><br>
        <input type="date" id="date" name="date" th:field="*{date}" required><br>
        <label for="message">Message:</label><br>
        <textarea id="message" name="message" th:field="*{message}" required></textarea><br><br>
        <button type="submit">Save</button>
    </form>

    <script th:inline="javascript">
    /*<![CDATA[*/
    // Attendre le chargement complet du formulaire
    document.addEventListener("DOMContentLoaded", function() {
        var form = document.getElementById("appointmentForm");
        form.addEventListener("submit", function(event) {
            // Empêcher la soumission du formulaire par défaut
            event.preventDefault();
            
            // Envoyer le formulaire via AJAX
            var formData = new FormData(form);
            fetch(form.action, {
                method: form.method,
                body: formData
            }).then(function(response) {
                if (response.ok) {
                    // Afficher l'alerte
                    alert("Appointment sent successfully!");
                    
                    // Rediriger vers la page userhome après un certain délai (par exemple, 2 secondes)
                    setTimeout(function() {
                        window.location.href = "http://localhost:8041/userhome";
                    }, 2000); // Délai en millisecondes (2000 ms = 2 secondes)
                } else {
                    console.error('Une erreur s\'est produite lors de la soumission du formulaire.');
                }
            }).catch(function(error) {
                console.error('Une erreur s\'est produite lors de la soumission du formulaire:', error);
            });
        });
    });
    /*]]>*/
</script>
    
    </div>
   <footer class="footer-content">
        <div class="left">Cabinet Khadhar Roua, Bir Chalouf Nabeul</div>
        <div class="center">Téléphone: 53380501</div>
        <div class="right">Email: khadharoua4@gmail.com</div>
    </footer>
</body>
</html>





